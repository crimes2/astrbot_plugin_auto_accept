<div align="center">

![:name](https://count.getloli.com/@astrbot_plugin_auto_handler?name=astrbot_plugin_auto_handler&theme=morden-num&padding=6&offset=0&align=top&scale=1&pixelated=1&darkmode=auto)

# astrbot_plugin_auto_handler

_âœ¨ æ™ºèƒ½å¥½å‹ä¸ç¾¤èŠè‡ªåŠ¨åŒ–ç®¡å®¶ âœ¨_  

[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![Python 3.10+](https://img.shields.io/badge/Python-3.10%2B-blue.svg)](https://www.python.org/)
[![AstrBot](https://img.shields.io/badge/AstrBot-3.5%2B-orange.svg)](https://github.com/AstrBotDevs/AstrBot)
[![GitHub](https://img.shields.io/badge/ä½œè€…-crimes2-blue)](https://github.com/crimes2)

</div>

## ğŸ’¡ ä»‹ç»

`astrbot_plugin_auto_handler` æ˜¯ä¸€ä¸ªä¸º AstrBot è®¾è®¡çš„å¼ºå¤§ä¸”é«˜åº¦å¯é…ç½®çš„è‡ªåŠ¨åŒ–è¯·æ±‚å¤„ç†å™¨ã€‚å®ƒèƒ½è®©æ‚¨çš„ Bot 7x24 å°æ—¶å…¨è‡ªåŠ¨å¤„ç†å¥½å‹è¯·æ±‚å’Œç¾¤èŠé‚€è¯·ï¼Œæ— éœ€ä»»ä½•äººå·¥å¹²é¢„ã€‚æ’ä»¶å†…ç½®äº†ä¸°å¯Œçš„è§„åˆ™å¼•æ“ï¼Œå¯ä»¥æ ¹æ®æ‚¨çš„è®¾å®šï¼Œæ™ºèƒ½åœ°å†³å®šæ¥å—æˆ–æ‹’ç»ï¼Œæå¤§è§£æ”¾æ‚¨çš„åŒæ‰‹ã€‚

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- **è‡ªåŠ¨å¤„ç†å¥½å‹è¯·æ±‚**ï¼šå¯è®¾ç½®ä¸ºå…¨éƒ¨åŒæ„ã€å…¨éƒ¨æ‹’ç»æˆ–å¿½ç•¥ã€‚
- **æ™ºèƒ½å¤„ç†ç¾¤èŠé‚€è¯·**ï¼šåŸºäºå¤šé‡è§„åˆ™è¿›è¡Œåˆ¤æ–­ï¼ŒåŒ…æ‹¬ï¼š
    - **ç®¡ç†å‘˜ä¼˜å…ˆ**ï¼šè‡ªåŠ¨åŒæ„æ‰€æœ‰æ¥è‡ªç®¡ç†å‘˜çš„é‚€è¯·ã€‚
    - **é‚€è¯·è€…é»‘åå•**ï¼šè‡ªåŠ¨æ‹’ç»é»‘åå•ç”¨æˆ·çš„é‚€è¯·ã€‚
    - **äº’æ–¥æˆå‘˜æ£€æŸ¥**ï¼šå¦‚æœç¾¤å†…å·²æœ‰æŒ‡å®šæˆå‘˜ï¼Œåˆ™æ‹’ç»åŠ å…¥ï¼Œé¿å…å†²çªã€‚
    - **æœ€å°ç¾¤è§„æ¨¡é™åˆ¶**ï¼šæ‹’ç»åŠ å…¥äººæ•°è¿‡å°‘çš„ç¾¤èŠã€‚
    - **è‡ªåŠ¨æ‹‰é»‘**ï¼šå½“ Bot è¢«ä»ç¾¤é‡Œè¸¢å‡ºæ—¶ï¼Œè‡ªåŠ¨å°†æ“ä½œè€…åŠ å…¥é»‘åå•ã€‚

## ğŸ“¦ å®‰è£…

- **æ¨è**ï¼šåœ¨ AstrBot çš„æ’ä»¶å¸‚åœºæœç´¢ `astrbot_plugin_auto_handler`ï¼Œç‚¹å‡»å®‰è£…å³å¯ã€‚
- **æ‰‹åŠ¨å®‰è£…**ï¼šå…‹éš†æœ¬ä»“åº“åˆ°æ‚¨çš„æ’ä»¶æ–‡ä»¶å¤¹ï¼š

```bash
# è¿›å…¥ AstrBot æ’ä»¶ç›®å½•
cd /opt/AstrBot/data/plugins

# å…‹éš†ä»“åº“ (è¯·æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é“¾æ¥ï¼Œæœªæ¥å¯èƒ½ä¼šå»ºç«‹æ­£å¼ä»“åº“)
git clone https://github.com/Lumine-Inc/astrbot-plugin-auto-handler

# é‡å¯ AstrBot æœåŠ¡
systemctl restart astrbot
```

## âš™ï¸ é…ç½®

æ‰€æœ‰åŠŸèƒ½å‡å¯é€šè¿‡ AstrBot çš„ WebUI é¢æ¿è¿›è¡Œé…ç½®ï¼Œè·¯å¾„ï¼š`æ’ä»¶ç®¡ç†` -> `astrbot_plugin_auto_handler` -> `æ“ä½œ` -> `æ’ä»¶é…ç½®`ã€‚

**é…ç½®é¡¹è¯´æ˜ï¼š**

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :---: | :---: | :--- |
| `friend_request_mode` | `string` | `ignore` | å¥½å‹è¯·æ±‚å¤„ç†æ¨¡å¼ (accept: åŒæ„, reject: æ‹’ç», ignore: å¿½ç•¥)ã€‚ |
| `group_invite_mode` | `string` | `ignore` | ç¾¤é‚€è¯·å¤„ç†æ¨¡å¼ (é™¤ç‰¹æ®Šè§„åˆ™å¤–)ã€‚ |
| `group_blacklist_enabled` | `bool` | `true` | æ˜¯å¦å¯ç”¨é‚€è¯·è€…é»‘åå•åŠŸèƒ½ã€‚ |
| `group_blacklist_user_ids`| `list` | `[]` | é»‘åå•QQå·åˆ—è¡¨ã€‚ |
| `group_blacklist_rejection_message` | `string` | `...` | æ‹’ç»é»‘åå•é‚€è¯·æ—¶çš„ç†ç”±ã€‚ |
| `exclusive_members_enabled` | `bool` | `true` | æ˜¯å¦å¯ç”¨äº’æ–¥æˆå‘˜æ£€æŸ¥ã€‚ |
| `exclusive_members_user_ids`| `list` | `[]` | äº’æ–¥æˆå‘˜QQå·åˆ—è¡¨ã€‚ |
| `exclusive_members_exit_message` | `string` | `...` | æ£€æµ‹åˆ°äº’æ–¥æˆå‘˜æ—¶çš„é€€ç¾¤/æ‹’ç»ç†ç”±ã€‚ |
| `min_group_size_enabled`| `bool` | `false` | æ˜¯å¦å¯ç”¨æœ€å°ç¾¤äººæ•°æ£€æŸ¥ã€‚ |
| `min_group_size_count` | `int` | `10` | å…è®¸åŠ å…¥çš„æœ€å°ç¾¤æˆå‘˜æ•°ã€‚ |
| `min_group_size_rejection_message` | `string` | `...` | å› ç¾¤å¤ªå°è€Œæ‹’ç»é‚€è¯·çš„ç†ç”±ã€‚ |
| `welcome_message_enabled` | `bool` | `true` | æ˜¯å¦åœ¨åŒæ„å…¥ç¾¤åå‘é€æ¬¢è¿è¯­ã€‚ |
| `welcome_message_message` | `string` | `å¤§å®¶å¥½...` | å…¥ç¾¤æ¬¢è¿è¯­çš„å…·ä½“å†…å®¹ã€‚ |
| `auto_leave_if_muted_enabled` | `bool` | `true` | **(å½“å‰ç‰ˆæœ¬å› å…¼å®¹æ€§æš‚æœªç”Ÿæ•ˆ)** æ˜¯å¦å¯ç”¨è¢«ç¦è¨€è‡ªåŠ¨é€€ç¾¤ã€‚ |
| `auto_leave_if_muted_duration_hours` | `int` | `24` | **(å½“å‰ç‰ˆæœ¬å› å…¼å®¹æ€§æš‚æœªç”Ÿæ•ˆ)** è¢«ç¦è¨€è¶…è¿‡å¤šå°‘å°æ—¶åé€€ç¾¤ã€‚ |


## âŒ¨ï¸ ä½¿ç”¨è¯´æ˜

æœ¬æ’ä»¶**æ— ä»»ä½•æŒ‡ä»¤**ï¼Œæ‰€æœ‰åŠŸèƒ½å‡ä¸ºå…¨è‡ªåŠ¨åå°è¿è¡Œã€‚æ‚¨åªéœ€åœ¨é…ç½®é¢æ¿ä¸­å®Œæˆè®¾ç½®ï¼Œæ’ä»¶ä¾¿ä¼šæ ¹æ®æ‚¨çš„è§„åˆ™å¿ å®åœ°æ‰§è¡Œä»»åŠ¡ã€‚

## ğŸ¤ TODO

- [x] è‡ªåŠ¨å¤„ç†å¥½å‹è¯·æ±‚
- [x] åŸºäºå¤šé‡è§„åˆ™ï¼ˆç®¡ç†å‘˜ã€é»‘åå•ã€äº’æ–¥æˆå‘˜ã€ç¾¤è§„æ¨¡ï¼‰è‡ªåŠ¨å¤„ç†ç¾¤é‚€è¯·
- [x] è‡ªåŠ¨å°†è¢«è¸¢æ“ä½œè€…åŠ å…¥é»‘åå•
- [ ] é‡æ–°å¯ç”¨å¹¶ä¼˜åŒ–â€œè¢«ç¦è¨€è‡ªåŠ¨é€€ç¾¤â€åŠŸèƒ½ï¼ˆå¾… AstrBot æ ¸å¿ƒç‰ˆæœ¬æ›´æ–°æ”¯æŒï¼‰
- [ ] å¢åŠ é‚€è¯·è€…ç™½åå•æ¨¡å¼
- [ ] å¢åŠ æŒ‡ä»¤ç”¨äºä¸´æ—¶å¼€å¯/å…³é—­/åˆ‡æ¢å¤„ç†æ¨¡å¼
- [ ] ä¸ºæ‰€æœ‰è‡ªåŠ¨åŒ–æ“ä½œå¢åŠ è¯¦ç»†çš„æ—¥å¿—æ¨é€ï¼Œæ–¹ä¾¿ä¸»äººç›‘æ§

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®å’Œå»ºè®®ï¼Œè®©è¿™ä¸ªæ’ä»¶å˜å¾—æ›´å¥½ï¼
- ğŸŒŸ **Star** è¿™ä¸ªé¡¹ç›®ï¼
- ğŸ› é€šè¿‡ [Issues](https://github.com/Lumine-Inc/astrbot-plugin-auto-handler/issues) æäº¤ **BugæŠ¥å‘Š**ã€‚
- ğŸ’¡ é€šè¿‡ [Issues](https://github.com/Lumine-Inc/astrbot-plugin-auto-handler/issues) æå‡º **æ–°åŠŸèƒ½å»ºè®®**ã€‚
- ğŸ”§ æäº¤ **Pull Request** å¸®åŠ©æˆ‘ä»¬æ”¹è¿›ä»£ç ã€‚

## ğŸ“Œ æ³¨æ„äº‹é¡¹
- å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿é€šè¿‡ GitHub Issues è¿›è¡Œåé¦ˆã€‚
